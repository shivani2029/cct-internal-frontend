import {
  require_jsx_runtime
} from "./chunk-2UPX5DN4.js";
import {
  require_react
} from "./chunk-HDWYUXML.js";
import {
  __toESM
} from "./chunk-DC5AMYBS.js";

// node_modules/.pnpm/react-multi-select-component@4.3.4_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-multi-select-component/dist/esm/index.js
var import_react = __toESM(require_react());
var import_jsx_runtime = __toESM(require_jsx_runtime());
var import_react2 = __toESM(require_react());
var import_react3 = __toESM(require_react());
var import_react4 = __toESM(require_react());
var import_react5 = __toESM(require_react());
var import_jsx_runtime2 = __toESM(require_jsx_runtime());
var import_react6 = __toESM(require_react());
var import_jsx_runtime3 = __toESM(require_jsx_runtime());
var import_jsx_runtime4 = __toESM(require_jsx_runtime());
var import_jsx_runtime5 = __toESM(require_jsx_runtime());
var import_jsx_runtime6 = __toESM(require_jsx_runtime());
var import_jsx_runtime7 = __toESM(require_jsx_runtime());
var import_jsx_runtime8 = __toESM(require_jsx_runtime());
var import_jsx_runtime9 = __toESM(require_jsx_runtime());
var import_jsx_runtime10 = __toESM(require_jsx_runtime());
var import_jsx_runtime11 = __toESM(require_jsx_runtime());
function V(e, { insertAt: n } = {}) {
  if (!e || typeof document > "u") return;
  let t = document.head || document.getElementsByTagName("head")[0], r = document.createElement("style");
  r.type = "text/css", n === "top" && t.firstChild ? t.insertBefore(r, t.firstChild) : t.appendChild(r), r.styleSheet ? r.styleSheet.cssText = e : r.appendChild(document.createTextNode(e));
}
V(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #f1f3f5;--rmsc-selected: #e2e6ea;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-content{position:absolute;z-index:1;top:100%;width:100%;padding-top:8px}.rmsc .dropdown-content .panel-content{overflow:hidden;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);box-shadow:0 0 0 1px #0000001a,0 4px 11px #0000001a}.rmsc .dropdown-container{position:relative;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border);border-radius:var(--rmsc-radius)}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-container:focus-within{box-shadow:var(--rmsc-main) 0 0 0 1px;border-color:var(--rmsc-main)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;height:var(--rmsc-h);cursor:default;outline:0}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{max-height:260px;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline-offset:-1px;outline-color:var(--rmsc-primary)}.rmsc .select-item:hover{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0;font-size:1em}.rmsc .search input:focus{background:var(--rmsc-hover)}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);
var Me = { allItemsAreSelected: "All items are selected.", clearSearch: "Clear Search", clearSelected: "Clear Selected", noOptions: "No options", search: "Search", selectAll: "Select All", selectAllFiltered: "Select All (Filtered)", selectSomeItems: "Select...", create: "Create" };
var De = { value: [], hasSelectAll: true, className: "multi-select", debounceDuration: 200, options: [] };
var re = import_react.default.createContext({});
var ne = ({ props: e, children: n }) => {
  let [t, r] = (0, import_react.useState)(e.options), a = (c) => {
    var u;
    return ((u = e.overrideStrings) == null ? void 0 : u[c]) || Me[c];
  };
  return (0, import_react.useEffect)(() => {
    r(e.options);
  }, [e.options]), (0, import_jsx_runtime.jsx)(re.Provider, { value: { t: a, ...De, ...e, options: t, setOptions: r }, children: n });
};
var w = () => import_react.default.useContext(re);
function se(e, n) {
  let t = (0, import_react3.useRef)(false);
  (0, import_react3.useEffect)(() => {
    t.current ? e() : t.current = true;
  }, n);
}
var He = { when: true, eventTypes: ["keydown"] };
function R(e, n, t) {
  let r = (0, import_react4.useMemo)(() => Array.isArray(e) ? e : [e], [e]), a = Object.assign({}, He, t), { when: c, eventTypes: u } = a, b = (0, import_react4.useRef)(n), { target: s } = a;
  (0, import_react4.useEffect)(() => {
    b.current = n;
  });
  let p = (0, import_react4.useCallback)((i) => {
    r.some((l) => i.key === l || i.code === l) && b.current(i);
  }, [r]);
  (0, import_react4.useEffect)(() => {
    if (c && typeof window < "u") {
      let i = s ? s.current : window;
      return u.forEach((l) => {
        i && i.addEventListener(l, p);
      }), () => {
        u.forEach((l) => {
          i && i.removeEventListener(l, p);
        });
      };
    }
  }, [c, u, r, s, n]);
}
var f = { ARROW_DOWN: "ArrowDown", ARROW_UP: "ArrowUp", ENTER: "Enter", ESCAPE: "Escape", SPACE: "Space" };
var le = (e, n) => {
  let t;
  return function(...r) {
    clearTimeout(t), t = setTimeout(() => {
      e.apply(null, r);
    }, n);
  };
};
function ie(e, n) {
  return n ? e.filter(({ label: t, value: r }) => t != null && r != null && t.toLowerCase().includes(n.toLowerCase())) : e;
}
var T = () => (0, import_jsx_runtime2.jsxs)("svg", { width: "24", height: "24", fill: "none", stroke: "currentColor", strokeWidth: "2", className: "dropdown-search-clear-icon gray", children: [(0, import_jsx_runtime2.jsx)("line", { x1: "18", y1: "6", x2: "6", y2: "18" }), (0, import_jsx_runtime2.jsx)("line", { x1: "6", y1: "6", x2: "18", y2: "18" })] });
var Ue = ({ checked: e, option: n, onClick: t, disabled: r }) => (0, import_jsx_runtime3.jsxs)("div", { className: `item-renderer ${r ? "disabled" : ""}`, children: [(0, import_jsx_runtime3.jsx)("input", { type: "checkbox", onChange: t, checked: e, tabIndex: -1, disabled: r }), (0, import_jsx_runtime3.jsx)("span", { children: n.label })] });
var pe = Ue;
var Ye = ({ itemRenderer: e = pe, option: n, checked: t, tabIndex: r, disabled: a, onSelectionChanged: c, onClick: u }) => {
  let b = (0, import_react6.useRef)(), s = (l) => {
    p(), l.preventDefault();
  }, p = () => {
    a || c(!t);
  }, i = (l) => {
    p(), u(l);
  };
  return R([f.ENTER, f.SPACE], s, { target: b }), (0, import_jsx_runtime4.jsx)("label", { className: `select-item ${t ? "selected" : ""}`, role: "option", "aria-selected": t, tabIndex: r, ref: b, children: (0, import_jsx_runtime4.jsx)(e, { option: n, checked: t, onClick: i, disabled: a }) });
};
var N = Ye;
var ze = ({ options: e, onClick: n, skipIndex: t }) => {
  let { disabled: r, value: a, onChange: c, ItemRenderer: u } = w(), b = (s, p) => {
    r || c(p ? [...a, s] : a.filter((i) => i.value !== s.value));
  };
  return (0, import_jsx_runtime5.jsx)(import_jsx_runtime5.Fragment, { children: e.map((s, p) => {
    let i = p + t;
    return (0, import_jsx_runtime5.jsx)("li", { children: (0, import_jsx_runtime5.jsx)(N, { tabIndex: i, option: s, onSelectionChanged: (l) => b(s, l), checked: !!a.find((l) => l.value === s.value), onClick: (l) => n(l, i), itemRenderer: u, disabled: s.disabled || r }) }, (s == null ? void 0 : s.key) || p);
  }) });
};
var ue = ze;
var Je = () => {
  let { t: e, onChange: n, options: t, setOptions: r, value: a, filterOptions: c, ItemRenderer: u, disabled: b, disableSearch: s, hasSelectAll: p, ClearIcon: i, debounceDuration: l, isCreatable: L, onCreateOption: y } = w(), O = (0, import_react5.useRef)(), g = (0, import_react5.useRef)(), [m, M] = (0, import_react5.useState)(""), [v, K] = (0, import_react5.useState)(t), [x, D] = (0, import_react5.useState)(""), [E, I] = (0, import_react5.useState)(0), W = (0, import_react5.useCallback)(le((o) => D(o), l), []), A = (0, import_react5.useMemo)(() => {
    let o = 0;
    return s || (o += 1), p && (o += 1), o;
  }, [s, p]), _ = { label: e(m ? "selectAllFiltered" : "selectAll"), value: "" }, H = (o) => {
    let d = v.filter((C) => !C.disabled).map((C) => C.value);
    if (o) {
      let Ae = [...a.map((U) => U.value), ...d];
      return (c ? v : t).filter((U) => Ae.includes(U.value));
    }
    return a.filter((C) => !d.includes(C.value));
  }, B = (o) => {
    let d = H(o);
    n(d);
  }, h = (o) => {
    W(o.target.value), M(o.target.value), I(0);
  }, P = () => {
    var o;
    D(""), M(""), (o = g == null ? void 0 : g.current) == null || o.focus();
  }, Z = (o) => I(o), we = (o) => {
    switch (o.code) {
      case f.ARROW_UP:
        ee(-1);
        break;
      case f.ARROW_DOWN:
        ee(1);
        break;
      default:
        return;
    }
    o.stopPropagation(), o.preventDefault();
  };
  R([f.ARROW_DOWN, f.ARROW_UP], we, { target: O });
  let Oe = () => {
    I(0);
  }, j = async () => {
    let o = { label: m, value: m, __isNew__: true };
    y && (o = await y(m)), r([o, ...t]), P(), n([...a, o]);
  }, Re = async () => c ? await c(t, x) : ie(t, x), ee = (o) => {
    let d = E + o;
    d = Math.max(0, d), d = Math.min(d, t.length + Math.max(A - 1, 0)), I(d);
  };
  (0, import_react5.useEffect)(() => {
    var o, d;
    (d = (o = O == null ? void 0 : O.current) == null ? void 0 : o.querySelector(`[tabIndex='${E}']`)) == null || d.focus();
  }, [E]);
  let [ke, Ee] = (0, import_react5.useMemo)(() => {
    let o = v.filter((d) => !d.disabled);
    return [o.every((d) => a.findIndex((C) => C.value === d.value) !== -1), o.length !== 0];
  }, [v, a]);
  (0, import_react5.useEffect)(() => {
    Re().then(K);
  }, [x, t]);
  let te = (0, import_react5.useRef)();
  R([f.ENTER], j, { target: te });
  let Ie = L && m && !v.some((o) => (o == null ? void 0 : o.value) === m);
  return (0, import_jsx_runtime6.jsxs)("div", { className: "select-panel", role: "listbox", ref: O, children: [!s && (0, import_jsx_runtime6.jsxs)("div", { className: "search", children: [(0, import_jsx_runtime6.jsx)("input", { placeholder: e("search"), type: "text", "aria-describedby": e("search"), onChange: h, onFocus: Oe, value: m, ref: g, tabIndex: 0 }), (0, import_jsx_runtime6.jsx)("button", { type: "button", className: "search-clear-button", hidden: !m, onClick: P, "aria-label": e("clearSearch"), children: i || (0, import_jsx_runtime6.jsx)(T, {}) })] }), (0, import_jsx_runtime6.jsxs)("ul", { className: "options", children: [p && Ee && (0, import_jsx_runtime6.jsx)(N, { tabIndex: A === 1 ? 0 : 1, checked: ke, option: _, onSelectionChanged: B, onClick: () => Z(1), itemRenderer: u, disabled: b }), v.length ? (0, import_jsx_runtime6.jsx)(ue, { skipIndex: A, options: v, onClick: (o, d) => Z(d) }) : Ie ? (0, import_jsx_runtime6.jsx)("li", { onClick: j, className: "select-item creatable", tabIndex: 1, ref: te, children: `${e("create")} "${m}"` }) : (0, import_jsx_runtime6.jsx)("li", { className: "no-options", children: e("noOptions") })] })] });
};
var q = Je;
var ge = ({ expanded: e }) => (0, import_jsx_runtime7.jsx)("svg", { width: "24", height: "24", fill: "none", stroke: "currentColor", strokeWidth: "2", className: "dropdown-heading-dropdown-arrow gray", children: (0, import_jsx_runtime7.jsx)("path", { d: e ? "M18 15 12 9 6 15" : "M6 9L12 15 18 9" }) });
var xe = () => {
  let { t: e, value: n, options: t, valueRenderer: r } = w(), a = n.length === 0, c = n.length === t.length, u = r && r(n, t);
  return a ? (0, import_jsx_runtime8.jsx)("span", { className: "gray", children: u || e("selectSomeItems") }) : (0, import_jsx_runtime8.jsx)("span", { children: u || (c ? e("allItemsAreSelected") : (() => n.map((s) => s.label).join(", "))()) });
};
var Se = ({ size: e = 24 }) => (0, import_jsx_runtime9.jsx)("span", { style: { width: e, marginRight: "0.2rem" }, children: (0, import_jsx_runtime9.jsx)("svg", { width: e, height: e, className: "spinner", viewBox: "0 0 50 50", style: { display: "inline", verticalAlign: "middle" }, children: (0, import_jsx_runtime9.jsx)("circle", { cx: "25", cy: "25", r: "20", fill: "none", className: "path" }) }) });
var Xe = () => {
  let { t: e, onMenuToggle: n, ArrowRenderer: t, shouldToggleOnHover: r, isLoading: a, disabled: c, onChange: u, labelledBy: b, value: s, isOpen: p, defaultIsOpen: i, ClearSelectedIcon: l, closeOnChangedValue: L } = w();
  (0, import_react2.useEffect)(() => {
    L && m(false);
  }, [s]);
  let [y, O] = (0, import_react2.useState)(true), [g, m] = (0, import_react2.useState)(i), [M, v] = (0, import_react2.useState)(false), K = t || ge, x = (0, import_react2.useRef)();
  se(() => {
    n && n(g);
  }, [g]), (0, import_react2.useEffect)(() => {
    i === void 0 && typeof p == "boolean" && (O(false), m(p));
  }, [p]);
  let D = (h) => {
    var P;
    ["text", "button"].includes(h.target.type) && [f.SPACE, f.ENTER].includes(h.code) || (y && (h.code === f.ESCAPE ? (m(false), (P = x == null ? void 0 : x.current) == null || P.focus()) : m(true)), h.preventDefault());
  };
  R([f.ENTER, f.ARROW_DOWN, f.SPACE, f.ESCAPE], D, { target: x });
  let E = (h) => {
    y && r && m(h);
  }, I = () => !M && v(true), W = (h) => {
    !h.currentTarget.contains(h.relatedTarget) && y && (v(false), m(false));
  }, A = () => E(true), _ = () => E(false), H = () => {
    y && m(a || c ? false : !g);
  }, B = (h) => {
    h.stopPropagation(), u([]), y && m(false);
  };
  return (0, import_jsx_runtime10.jsxs)("div", { tabIndex: 0, className: "dropdown-container", "aria-labelledby": b, "aria-expanded": g, "aria-readonly": true, "aria-disabled": c, ref: x, onFocus: I, onBlur: W, onMouseEnter: A, onMouseLeave: _, children: [(0, import_jsx_runtime10.jsxs)("div", { className: "dropdown-heading", onClick: H, children: [(0, import_jsx_runtime10.jsx)("div", { className: "dropdown-heading-value", children: (0, import_jsx_runtime10.jsx)(xe, {}) }), a && (0, import_jsx_runtime10.jsx)(Se, {}), s.length > 0 && l !== null && (0, import_jsx_runtime10.jsx)("button", { type: "button", className: "clear-selected-button", onClick: B, disabled: c, "aria-label": e("clearSelected"), children: l || (0, import_jsx_runtime10.jsx)(T, {}) }), (0, import_jsx_runtime10.jsx)(K, { expanded: g })] }), g && (0, import_jsx_runtime10.jsx)("div", { className: "dropdown-content", children: (0, import_jsx_runtime10.jsx)("div", { className: "panel-content", children: (0, import_jsx_runtime10.jsx)(q, {}) }) })] });
};
var Q = Xe;
var Ze = (e) => (0, import_jsx_runtime11.jsx)(ne, { props: e, children: (0, import_jsx_runtime11.jsx)("div", { className: `rmsc ${e.className || "multi-select"}`, children: (0, import_jsx_runtime11.jsx)(Q, {}) }) });
var je = Ze;
export {
  Q as Dropdown,
  je as MultiSelect,
  N as SelectItem,
  q as SelectPanel
};
//# sourceMappingURL=react-multi-select-component.js.map
