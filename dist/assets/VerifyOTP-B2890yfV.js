import{E as De,r as e,j as o,k as Y,y as Ie,n as Fe,F as Ne,o as Be,p as We,q as Ae,s as _e,G as Le,t as He,B as fe,v as Ve,R as Ge,J as he,H as $e}from"./index-BED7r-nT.js";import{V as ze}from"./AuthPages-Mm1D_yvt.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=De("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);var Je=Object.defineProperty,Ue=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,ge=(r,t,a)=>t in r?Je(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,Qe=(r,t)=>{for(var a in t||(t={}))ve.call(t,a)&&ge(r,a,t[a]);if(Z)for(var a of Z(t))xe.call(t,a)&&ge(r,a,t[a]);return r},Xe=(r,t)=>Ue(r,Ke(t)),Ye=(r,t)=>{var a={};for(var s in r)ve.call(r,s)&&t.indexOf(s)<0&&(a[s]=r[s]);if(r!=null&&Z)for(var s of Z(r))t.indexOf(s)<0&&xe.call(r,s)&&(a[s]=r[s]);return a},Ze="^\\d+$";function et(r){let t=setTimeout(r,0),a=setTimeout(r,10),s=setTimeout(r,50);return[t,a,s]}function tt(r){let t=e.useRef();return e.useEffect(()=>{t.current=r}),t.current}var nt=18,be=40,rt=`${be}px`,at=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function lt({containerRef:r,inputRef:t,pushPasswordManagerStrategy:a,isFocused:s}){let y=e.useRef({done:!1,refocused:!1}),[u,h]=e.useState(!1),[g,M]=e.useState(!1),[E,U]=e.useState(!1),ee=e.useMemo(()=>a==="none"?!1:(a==="increase-width"||a==="experimental-no-flickering")&&u&&g,[u,g,a]),O=e.useCallback(()=>{let v=r.current,m=t.current;if(!v||!m||E||a==="none")return;let i=v,S=i.getBoundingClientRect().left+i.offsetWidth,B=i.getBoundingClientRect().top+i.offsetHeight/2,K=S-nt,Q=B;if(!(document.querySelectorAll(at).length===0&&document.elementFromPoint(K,Q)===v)&&(h(!0),U(!0),!y.current.refocused&&document.activeElement===m)){let L=[m.selectionStart,m.selectionEnd];m.blur(),m.focus(),m.setSelectionRange(L[0],L[1]),y.current.refocused=!0}},[r,t,E,a]);return e.useEffect(()=>{let v=r.current;if(!v||a==="none")return;function m(){let S=window.innerWidth-v.getBoundingClientRect().right;M(S>=be)}m();let i=setInterval(m,1e3);return()=>{clearInterval(i)}},[r,a]),e.useEffect(()=>{let v=s||document.activeElement===t.current;if(a==="none"||!v)return;let m=setTimeout(O,0),i=setTimeout(O,2e3),S=setTimeout(O,5e3),B=setTimeout(()=>{U(!0)},6e3);return()=>{clearTimeout(m),clearTimeout(i),clearTimeout(S),clearTimeout(B)}},[t,s,a,O]),{hasPWMBadge:u,willPushPWMBadge:ee,PWM_BADGE_SPACE_WIDTH:rt}}var ye=e.createContext({}),we=e.forwardRef((r,t)=>{var a=r,{value:s,onChange:y,maxLength:u,textAlign:h="left",pattern:g=Ze,inputMode:M="numeric",onComplete:E,pushPasswordManagerStrategy:U="increase-width",containerClassName:ee,noScriptCSSFallback:O=ot,render:v,children:m}=a,i=Ye(a,["value","onChange","maxLength","textAlign","pattern","inputMode","onComplete","pushPasswordManagerStrategy","containerClassName","noScriptCSSFallback","render","children"]),S,B,K,Q,L;let[je,Ee]=e.useState(typeof i.defaultValue=="string"?i.defaultValue:""),p=s??je,T=tt(p),H=e.useCallback(n=>{y==null||y(n),Ee(n)},[y]),w=e.useMemo(()=>g?typeof g=="string"?new RegExp(g):g:null,[g]),d=e.useRef(null),te=e.useRef(null),ne=e.useRef({value:p,onChange:H,isIOS:typeof window<"u"&&((B=(S=window==null?void 0:window.CSS)==null?void 0:S.supports)==null?void 0:B.call(S,"-webkit-touch-callout","none"))}),X=e.useRef({prev:[(K=d.current)==null?void 0:K.selectionStart,(Q=d.current)==null?void 0:Q.selectionEnd,(L=d.current)==null?void 0:L.selectionDirection]});e.useImperativeHandle(t,()=>d.current,[]),e.useEffect(()=>{let n=d.current,l=te.current;if(!n||!l)return;ne.current.value!==n.value&&ne.current.onChange(n.value),X.current.prev=[n.selectionStart,n.selectionEnd,n.selectionDirection];function f(){if(document.activeElement!==n){G(null),$(null);return}let c=n.selectionStart,b=n.selectionEnd,P=n.selectionDirection,D=n.maxLength,I=n.value,_=X.current.prev,C=-1,k=-1,F;if(I.length!==0&&c!==null&&b!==null){let Oe=c===b,Te=c===I.length&&I.length<D;if(Oe&&!Te){let N=c;if(N===0)C=0,k=1,F="forward";else if(N===D)C=N-1,k=N,F="backward";else if(D>1&&I.length>1){let le=0;if(_[0]!==null&&_[1]!==null){F=N<_[1]?"backward":"forward";let Re=_[0]===_[1]&&_[0]<D;F==="backward"&&!Re&&(le=-1)}C=le+N,k=le+N+1}}C!==-1&&k!==-1&&C!==k&&d.current.setSelectionRange(C,k,F)}let pe=C!==-1?C:c,me=k!==-1?k:b,Me=F??P;G(pe),$(me),X.current.prev=[pe,me,Me]}if(document.addEventListener("selectionchange",f,{capture:!0}),f(),document.activeElement===n&&re(!0),!document.getElementById("input-otp-style")){let c=document.createElement("style");if(c.id="input-otp-style",document.head.appendChild(c),c.sheet){let b="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";z(c.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),z(c.sheet,`[data-input-otp]:autofill { ${b} }`),z(c.sheet,`[data-input-otp]:-webkit-autofill { ${b} }`),z(c.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),z(c.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let x=()=>{l&&l.style.setProperty("--root-height",`${n.clientHeight}px`)};x();let j=new ResizeObserver(x);return j.observe(n),()=>{document.removeEventListener("selectionchange",f,{capture:!0}),j.disconnect()}},[]);let[oe,ie]=e.useState(!1),[V,re]=e.useState(!1),[R,G]=e.useState(null),[W,$]=e.useState(null);e.useEffect(()=>{et(()=>{var n,l,f,x;(n=d.current)==null||n.dispatchEvent(new Event("input"));let j=(l=d.current)==null?void 0:l.selectionStart,c=(f=d.current)==null?void 0:f.selectionEnd,b=(x=d.current)==null?void 0:x.selectionDirection;j!==null&&c!==null&&(G(j),$(c),X.current.prev=[j,c,b])})},[p,V]),e.useEffect(()=>{T!==void 0&&p!==T&&T.length<u&&p.length===u&&(E==null||E(p))},[u,E,T,p]);let A=lt({containerRef:te,inputRef:d,pushPasswordManagerStrategy:U,isFocused:V}),se=e.useCallback(n=>{let l=n.currentTarget.value.slice(0,u);if(l.length>0&&w&&!w.test(l)){n.preventDefault();return}typeof T=="string"&&l.length<T.length&&document.dispatchEvent(new Event("selectionchange")),H(l)},[u,H,T,w]),ce=e.useCallback(()=>{var n;if(d.current){let l=Math.min(d.current.value.length,u-1),f=d.current.value.length;(n=d.current)==null||n.setSelectionRange(l,f),G(l),$(f)}re(!0)},[u]),ue=e.useCallback(n=>{var l,f;let x=d.current;if(!ne.current.isIOS||!n.clipboardData||!x)return;let j=n.clipboardData.getData("text/plain");n.preventDefault();let c=(l=d.current)==null?void 0:l.selectionStart,b=(f=d.current)==null?void 0:f.selectionEnd,P=(c!==b?p.slice(0,c)+j+p.slice(b):p.slice(0,c)+j+p.slice(c)).slice(0,u);if(P.length>0&&w&&!w.test(P))return;x.value=P,H(P);let D=Math.min(P.length,u-1),I=P.length;x.setSelectionRange(D,I),G(D),$(I)},[u,H,w,p]),Pe=e.useMemo(()=>({position:"relative",cursor:i.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[i.disabled]),de=e.useMemo(()=>({position:"absolute",inset:0,width:A.willPushPWMBadge?`calc(100% + ${A.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:A.willPushPWMBadge?`inset(0 ${A.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:h,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[A.PWM_BADGE_SPACE_WIDTH,A.willPushPWMBadge,h]),Ce=e.useMemo(()=>e.createElement("input",Xe(Qe({autoComplete:i.autoComplete||"one-time-code"},i),{"data-input-otp":!0,"data-input-otp-mss":R,"data-input-otp-mse":W,inputMode:M,pattern:w==null?void 0:w.source,style:de,maxLength:u,value:p,ref:d,onPaste:n=>{var l;ue(n),(l=i.onPaste)==null||l.call(i,n)},onChange:se,onMouseOver:n=>{var l;ie(!0),(l=i.onMouseOver)==null||l.call(i,n)},onMouseLeave:n=>{var l;ie(!1),(l=i.onMouseLeave)==null||l.call(i,n)},onFocus:n=>{var l;ce(),(l=i.onFocus)==null||l.call(i,n)},onBlur:n=>{var l;re(!1),(l=i.onBlur)==null||l.call(i,n)}})),[se,ce,ue,M,de,u,W,R,i,w==null?void 0:w.source,p]),ae=e.useMemo(()=>({slots:Array.from({length:u}).map((n,l)=>{let f=V&&R!==null&&W!==null&&(R===W&&l===R||l>=R&&l<W),x=p[l]!==void 0?p[l]:null;return{char:x,isActive:f,hasFakeCaret:f&&x===null}}),isFocused:V,isHovering:!i.disabled&&oe}),[V,oe,u,W,R,i.disabled,p]),ke=e.useMemo(()=>v?v(ae):e.createElement(ye.Provider,{value:ae},m),[m,ae,v]);return e.createElement(e.Fragment,null,O!==null&&e.createElement("noscript",null,e.createElement("style",null,O)),e.createElement("div",{ref:te,"data-input-otp-container":!0,style:Pe,className:ee},ke,e.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ce)))});we.displayName="Input";function z(r,t){try{r.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var ot=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Se=e.forwardRef(({className:r,containerClassName:t,...a},s)=>o.jsx(we,{ref:s,containerClassName:Y("flex items-center gap-4 has-[:disabled]:opacity-50",t),className:Y("disabled:cursor-not-allowed",r),...a}));Se.displayName="InputOTP";const q=e.forwardRef(({className:r,...t},a)=>o.jsx("div",{ref:a,className:Y("flex items-center",r),...t}));q.displayName="InputOTPGroup";const J=e.forwardRef(({index:r,className:t,...a},s)=>{const y=e.useContext(ye),{char:u,hasFakeCaret:h,isActive:g}=y.slots[r];return o.jsxs("div",{ref:s,className:Y("relative flex h-14 w-16 items-center justify-center border-y border-r border-input text-lg transition-all first:rounded-l-md first:border-l last:rounded-r-md",g&&"z-10 ring-1 ring-ring ring-offset-background",t),...a,children:[u,h&&o.jsx("div",{className:"  absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});J.displayName="InputOTPSlot";const it=e.forwardRef(({...r},t)=>o.jsx("div",{ref:t,role:"separator",...r,children:o.jsx(qe,{})}));it.displayName="InputOTPSeparator";function ut(){const[r,t]=e.useState(!1),a=Ie(),s=Fe({resolver:Ve(ze),defaultValues:{otp:""}});async function y(){try{(await Ge()).success&&he.success("OTP sent successfully")}catch(h){console.log(h)}}async function u(h){var M;const g={...h,email:(M=a==null?void 0:a.state)==null?void 0:M.email};try{t(!0),await $e(g),he.success("Successfully Verified"),window.location.href="/",t(!1)}catch(E){t(!1),console.error("Error verifying OTP:",E)}}return o.jsx(Ne,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(u),className:"w-full h-full flex flex-col justify-around",children:[o.jsxs("div",{className:"w-full grid grid-cols-1 gap-10 mb-10",children:[o.jsx("h3",{className:"text-5xl mb-2 font-jost",children:"Verification OTP"}),o.jsx(Be,{control:s.control,name:"otp",render:({field:h})=>o.jsxs(We,{children:[o.jsx(Ae,{children:"Code"}),o.jsx(_e,{children:o.jsxs(Se,{maxLength:5,...h,children:[o.jsx(q,{children:o.jsx(J,{index:0})}),o.jsx(q,{children:o.jsx(J,{index:1})}),o.jsx(q,{children:o.jsx(J,{index:2})}),o.jsx(q,{children:o.jsx(J,{index:3})})]})}),o.jsx(Le,{children:"Enter the 4-digit code sent to your email"}),o.jsx(He,{})]})})]}),o.jsxs("div",{children:[o.jsx(fe,{variant:"default",size:"lg",type:"submit",className:"w-full",loading:r,children:"Verify"}),o.jsxs("p",{className:"text-center mb-0 text-[#9C9C9C]",children:["Donâ€™t Receive code",o.jsx(fe,{variant:"link",type:"button",onClick:y,className:"text-primary pl-1",children:"Resend OTP"})]})]})]})})}export{ut as default};
